@model JourneyPortal.Models.TravelAgencyInfoViewModel

@{
    ViewBag.Title = "GetTravelAgencyProfile";
}

<h2>Oferty biura : <u>@Model.Name</u></h2>

<div class="container">
    <div class="well well-sm">
        <strong>Wyświetlanie</strong>
        <div class="btn-group">
            <a href="#" id="list" class="btn btn-default btn-sm">
                <span class="glyphicon glyphicon-th-list">
                </span>Lista
            </a> <a href="#" id="grid" class="btn btn-default btn-sm">
                <span class="glyphicon glyphicon-th"></span>Siatka
            </a>
        </div>
    </div>
    <div id="products" class="row list-group">
        @foreach (var item in Model.OffersList.Where(x => x.IsActive))
        {
            <div class="item  col-xs-4 col-lg-4">
                <div class="thumbnail">
                    @if (item.Image != null)
                    {
                        <img style="min-height:370px;min-width:350px" src="@Url.Content("~/Content/OffersImages/" + @Path.GetFileName(item.Image))" class="media-object">
                    }
                    else
                    {
                        <img style="min-height:370px;min-width:350px" src="~/Content/Images/empty.jpg" class="media-object" />
                    }
                        <div class="caption">
                            <h4 class="group inner list-group-item-heading">
                                @Html.ActionLink(item.Name, "GetOffersDetail", "Offers", new { id = item.Id }, null)
                            </h4>
                            <p>@item.StartDate.ToShortDateString() - @item.EndDate.ToShortDateString()</p>
                            <p>Dodana: @item.CreationDate.ToShortDateString()</p>
                            <p class="group inner list-group-item-text">
                                @if (item.Description.Length > 80)
                                {
                                    @Html.Raw(item.Description.Substring(0, 80) + "...")
                                }
                                else
                                {
                                    @Html.Raw(item.Description)
                                }
                            </p>
                            <div class="row">
                                <div class="col-xs-12 col-md-6">
                                    <p class="lead">
                                        ZŁ @item.Cost
                                    </p>
                                </div>
                            </div>
                            <span>
                                @if (item.Rate > 0)
                                {
                                    for (int i = 0; i < 5; i++)
                                    {
                                        if (i <= item.Rate)
                                        {
                                            <span class="fa fa-star" style=" color: orange;"></span>
                                        }
                                        else
                                        {
                                            <span class="fa fa-star"></span>
                                        }
                                    }
                                }
                            </span>
                        </div>
                </div>
            </div>
        }
    </div>
</div>
<script>
    $(document).ready(function() {
    $('#list').click(function(event){event.preventDefault();$('#products .item').addClass('list-group-item');});
    $('#grid').click(function(event){event.preventDefault();$('#products .item').removeClass('list-group-item');$('#products .item').addClass('grid-group-item');});
});
</script>
<style>
    .glyphicon {
        margin-right: 5px;
    }

    .thumbnail {
        margin-bottom: 20px;
        padding: 0px;
        -webkit-border-radius: 0px;
        -moz-border-radius: 0px;
        border-radius: 0px;
    }

    .item.list-group-item {
        float: none;
        width: 100%;
        background-color: #fff;
        margin-bottom: 10px;
    }

        .item.list-group-item:nth-of-type(odd):hover, .item.list-group-item:hover {
            background: #428bca;
        }

        .item.list-group-item .list-group-image {
            margin-right: 10px;
        }

        .item.list-group-item .thumbnail {
            margin-bottom: 0px;
        }

        .item.list-group-item .caption {
            padding: 9px 9px 0px 9px;
        }

        .item.list-group-item:nth-of-type(odd) {
            background: #eeeeee;
        }

        .item.list-group-item:before, .item.list-group-item:after {
            display: table;
            content: " ";
        }

        .item.list-group-item img {
            float: left;
        }

        .item.list-group-item:after {
            clear: both;
        }

    .list-group-item-text {
        margin: 0 0 11px;
    }
</style>