@model JourneyPortal.ViewModels.Offers.OffersViewModel
@using PagedList.Mvc;
<link href="~/Content/flipItem.css" rel="stylesheet" />
<div class="contentBody" id="products">
    <div class="container" style="flex-wrap:wrap;">
        <div class="well well-sm">
            <strong>Wyświetlanie</strong>
            <div class="btn-group">
                <a href="#" id="list" class="btn btn-default btn-sm">
                    <span class="glyphicon glyphicon-th-list">
                    </span>Lista
                </a> <a href="#" id="grid" class="btn btn-default btn-sm">
                    <span class="glyphicon glyphicon-th"></span>Siatka
                </a>
            </div>
        </div>
        <div class="gridList" style="overflow:auto;">
            @foreach (var item in Model.OffersList.OrderBy(x => x.CreationDate).Where(x => x.IsActive))
            {
                <div class="gridItem" >
                    <div class="thumbnail">
                        @if (item.Image != null)
                        {
                            <img src="@Url.Content("~/Content/OffersImages/" + @Path.GetFileName(item.Image))">
                        }
                        else
                        {
                            <img src="~/Content/Images/empty.jpg" />
                        }
                        <div class="caption">
                            <h4 class="group inner list-group-item-heading">
                                @Html.ActionLink(item.Name, "GetOffersDetail", "Offers", new { id = item.Id }, null)
                            </h4>
                            <p>@item.StartDate.ToShortDateString() - @item.EndDate.ToShortDateString()</p>
                            <p>Dodana: @item.CreationDate.ToShortDateString()</p>
                            <div class="row">
                                <div class="col-xs-12 col-md-6">
                                    <p class="lead">
                                        ZŁ @item.Cost
                                    </p>
                                </div>
                            </div>
                            <span>
                                @if (item.Rate > 0)
                                {
                                    for (int i = 0; i < 5; i++)
                                    {
                                        if (i <= item.Rate)
                                        {
                                            <span class="fa fa-star" style=" color: orange;"></span>
                                        }
                                        else
                                        {
                                            <span class="fa fa-star"></span>
                                        }
                                    }
                                }
                            </span>
                        </div>
                    </div>
                </div>

                @*<div class="flip-card col-lg-5" style="margin:5px;">
                <div class="flip-card-inner">
                    <div class="flip-card-front">
                        @if (item.Image != null)
                        {
                            <img style="width:100%;height:100%;" src="@Url.Content("~/Content/OffersImages/" + @Path.GetFileName(item.Image))" class="media-object">
                        }
                        else
                        {
                            <img style="width:auto;height:100%;" src="~/Content/Images/empty.jpg" class="media-object" />
                        }
                        <div style="position: absolute;top:50%;left: 50%;transform: translate(-50%, -50%);">
                            <div class="text-block" style=" opacity: 0.8;background-color: black;color: white;">
                                <h3>@item.Name</h3>
                                @if (item.Rate > 0)
                                {
                                    for (int i = 0; i < 5; i++)
                                    {
                                        if (i <= item.Rate)
                                        {

                                            <span class="fa fa-star" style="color: orange;"></span>
                                        }
                                        else
                                        {
                                            <span class="fa fa-star"></span>
                                        }
                                    }
                                }
                            </div>
                        </div>
                    </div>
                    <div class="flip-card-back">
                        <div class="caption">
                            <h4 class="group inner list-group-item-heading">
                                @item.Name
                            </h4>
                            <p>@item.StartDate.ToShortDateString() - @item.EndDate.ToShortDateString()</p>
                            <p>Dodana: @item.CreationDate.ToShortDateString()</p>
                            <div class="row">
                                <div class="col-xs-12 col-md-6">
                                    <p class="lead">
                                        ZŁ @item.Cost
                                    </p>
                                </div>
                                <div class="col-xs-12 col-md-6">
                                    @Html.ActionLink(item.TravelAgencyOwnerName, "GetTravelAgencyProfile", "Users", new { userName = item.TravelAgencyOwnerName }, null)
                                </div>
                                @Html.ActionLink("Aby zobaczyć opis przejdź do oferty", "GetOffersDetail", "Offers", new { id = item.Id }, new { @class = "btn bg-primary" })
                            </div>
                        </div>
                    </div>
                </div>
            </div>*@
            }
        </div>
        </div>
        <br />
        Strona @(Model.OffersList.PageCount < Model.OffersList.PageNumber ? 0 : Model.OffersList.PageNumber) z @Model.OffersList.PageCount
        @Html.PagedListPager(Model.OffersList, page => Url.Action("IndexGetAllOffers", new { page }), PagedListRenderOptions.EnableUnobtrusiveAjaxReplacing(new AjaxOptions() { HttpMethod = "GET", UpdateTargetId = "products" }))
    </div>

<script>
    $(document).ready(function () {
        $('#list').click(function (event) { event.preventDefault(); $('#products .item').addClass('list-group-item'); });
        $('#grid').click(function (event) { event.preventDefault(); $('#products .item').removeClass('list-group-item'); $('#products .item').addClass('grid-group-item'); });
    });
</script>
<style>
    .gridList {
        display:flex;
        width:100%;
    }
    .gridItem {
        flex:1;
        padding:5px;
    }
    .item.list-group-item {
        float: none;
        width: 100%;
        background-color: #fff;
        margin-bottom: 10px;
        height:100%;
    }
    .list-group-item-text {
        margin: 0px;
    }
</style>