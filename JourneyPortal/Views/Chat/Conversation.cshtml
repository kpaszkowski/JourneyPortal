@model JourneyPortal.ViewModels.Chat.ConversationViewModel

<div class="contentBody">
    @if (Model.IsActive)
    {
        foreach (var item in Model.Messages)
        {
            <div class="container chatMessage">
                <p>@item.AuthorName</p>
                <p>@item.Text</p>
                <span class="time-right">@item.CreationDate.ToShortTimeString()</span>
            </div>
        }
    }
    else
    {
        using (Html.BeginForm("StartConversation", "Chat", new { userId1 = Model.FirstUserId, userId2 = Model.SecondUserId}, FormMethod.Post))
        {
            @Html.AntiForgeryToken()
            <button class="btn btn-success" type="submit">Rozpocznij konwersację</button>
        }
    }

</div>

<style>


.chatMessage {
    border: 2px solid #dedede;
    background-color: #f1f1f1;
    border-radius: 5px;
    padding: 10px;
    margin: 10px 0;
}


.chatMessage::after {
    content: "";
    clear: both;
    display: table;
}

.chatMessage img {
    float: left;
    max-width: 60px;
    width: 100%;
    margin-right: 20px;
    border-radius: 50%;
}

.chatMessage img.right {
    float: right;
    margin-left: 20px;
    margin-right:0;
}

.time-right {
    float: right;
    color: #aaa;
}

.time-left {
    float: left;
    color: #999;
}
</style>